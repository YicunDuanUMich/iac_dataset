Create a Terraform configuration that sets up an AWS S3 bucket named "mybucket" with versioning enabled. Additionally, configure object lock retention for compliance mode with a retention period of 5 days. Ensure that the object lock configuration is applied to the same bucket as versioning. Use appropriate resource types and dynamic references for bucket IDs and ARNs in the configuration.